<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genshin Shibari Roulette</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="homeButton" class="home-button">最初に戻る</button>

    <div class="container">
        <!-- スタート画面 -->
        <div id="startScreen">
            <h1>原神縛りルーレット</h1>
            <div class="input-group">
                <label for="playerCount">プレイヤー数：</label>
                <input type="number" id="playerCount" value="1" min="1" max="4">
            </div>
            <div class="input-group">
                <label for="bindCount">縛りの数：</label>
                <input type="number" id="bindCount" value="1" min="1" max="4">
            </div>
            <div class="button-group">
                <button id="startAllButton">一括ルーレット</button>
                <button id="startBossButton">ボスルーレット</button>
                <button id="startBindButton">縛りルーレット</button>
                <button id="showBindSelectionButton">縛り選択</button>
            </div>
            <!-- ★★ ここに追加 ★★ -->
            <div class="about-button-container">
                <button id="aboutButton" class="about-button">このルーレットについて</button>
            </div>
        </div>

        <!-- (他の画面は変更なし) -->
        <div id="bindSelection" class="hidden">
            <h2>縛りを選択してください</h2>
            <div id="bindButtons" class="button-group"></div>
        </div>
        <div id="rouletteScreen" class="hidden">
            <div class="roulette-container"><canvas id="rouletteCanvas" width="500" height="500"></canvas></div>
            <div class="controls"><button id="spinButton">スピン</button><button id="stopButton" disabled>ストップ</button><button id="nextButton" class="hidden">次へ</button><button id="notOwnedButton" class="hidden">持っていない（リロール）</button></div>
            <div id="popup" class="popup"></div>
        </div>
        <div id="resultScreen" class="hidden">
            <h1>結果</h1>
            <div id="results"></div>
            <button id="backToStartButton">最初に戻る</button>
        </div>
    </div>

    <!-- ★★ ここに追加 ★★ -->
    <!-- 説明モーダルウィンドウ -->
    <div id="aboutModal" class="modal-overlay hidden">
        <div class="modal-content">
            <span class="close-button">×</span>
            <h2>このルーレットについて</h2>
            
            <div class="modal-section">
                <h3>目的・コンセプト</h3>
                <p>このルーレットは、普段遊んでいるサーバーでやっている縛りのルーレットをやりやすくしたいという目的のもと作成しています。できることはボスの抽選、縛りプレイの抽選、縛りの内容の抽選です。プレイ人数は原神のマルチできる人数1～4人、縛りの数は現実的に可能な4つまでとしています。</p>
            </div>

            <div class="modal-section">
                <h3>使用される情報について</h3>
                <p>ルーレットに使用されるキャラ、武器、縛り条件などの情報はすべて制作者が選定した公式情報のみを使用しています。データミスを見つけた場合は、Twitter:@rakiku_genshin にDMでご報告ください。</p>
            </div>

            <div class="modal-section">
                <h3>FAQ</h3>
                <dl>
                    <dt>Q: 所持していない武器が出たら？</dt>
                    <dd>A: 「持っていない」ボタンで項目を削除し再抽選できるようになっています。</dd>
                    <dt>Q: キャラルーレットで被ったら？</dt>
                    <dd>A: マルチの際は被る可能性があります。もしかぶってしまった場合は、二人目の人がもっていないを押すことで再抽選できるので問題はないと思います。</dd>
                    <dt>Q: 縛りの重複はどう処理？</dt>
                    <dd>A: 重複しないよう設計しています。</dd>
                    <dt>Q: 条件の矛盾が出た場合は？</dt>
                    <dd>A: 出ないようになっているはずです...</dd>
                    <dt>Q: ルーレットの結果を保存できますか？</dt>
                    <dd>A: 現在は保存機能ないので、リザルト画面をスクリーンショットしてください。</dd>
                    <dt>Q: モバイルでも使えますか？</dt>
                    <dd>A: はい、ちょっとUIが変になりますがルーレット自体はスマホでもプレイできます。</dd>
                    <dt>Q: 縛り数が4つに制限されているのはなぜ？</dt>
                    <dd>A: 現実的に可能な縛り数として最大4つに設定。</dd>
                    <dt>Q: ボスや縛りを自分で選べますか？</dt>
                    <dd>A: それぞれ対応するボタンがあるのでそれを押してもらえば選ぶことは可能です。</dd>
                    <dt>Q: アーロイや旅人の扱いは？</dt>
                    <dd>A: 例外キャラとして特定の縛り（例：所持率100％、恒常☆5）で除外しています。</dd>
                    <dt>Q: データミスを見つけたらどうすればいい？</dt>
                    <dd>A:Twitter： @rakiku_genshin にDMでご報告ください。</dd>
                    <dt>Q: ルーレットの結果が気に入らない場合は？</dt>
                    <dd>A: 「持っていない」ボタンでキャラ/武器を再抽選、または「最初に戻る」でリセット。</dd>
                    <dt>Q: マルチプレイでの縛りは全員同じ？</dt>
                    <dd>A: 共通縛り（例：回復禁止）は全員同じ、個別縛り（例：キャラルーレット）はプレイヤーごと。</dd>
                    <dt>Q：背景のキャラはどういう選出？</dt>
                    <dd>A:サーバーの初期メンバーの推しキャラです<br>らきく：煙緋<br>すーも：フリーナ<br>りょーか：九条裟羅<br>なのさめ：クレー</dd>
                </dl>
            </div>
            
            <div class="modal-section">
                <h3>注意事項</h3>
                <p>これは非公式のファンメイドツールです。アップデートは作者がやりたいときに頑張ります。データミスやバグ、ご提案などは Twitter：@rakiku_genshin にDMでご報告ください。</p>
            </div>

        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
