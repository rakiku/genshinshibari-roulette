<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>原神縛りプレイルーレット</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- メイン画面 -->
    <div id="main-screen">
        <h1>原神縛りプレイルーレット</h1>
        <div class="settings">
            <label>プレイヤー数: 
                <select id="player-count">
                    <option value="1">1人</option>
                    <option value="2">2人</option>
                    <option value="3">3人</option>
                    <option value="4">4人</option>
                </select>
            </label>
            <label>縛りの数: 
                <select id="constraint-count">
                    <option value="1">1つ</option>
                    <option value="2">2つ</option>
                    <option value="3">3つ</option>
                    <option value="4">4つ</option>
                </select>
            </label>
        </div>
        <button onclick="startBatchRoulette()">一括で決める</button>
        <button onclick="goToBossRoulette()">ボスルーレット</button>
        <button onclick="goToConstraintRoulette()">縛りルーレット</button>
        <button onclick="goToSelectConstraint()">縛りを選んでルーレット</button>
        <button onclick="goToAbout()">このルーレットについて</button>
    </div>

    <!-- ボスルーレット画面 -->
    <div id="boss-roulette-screen" style="display: none;">
        <h1>ボスルーレット</h1>
        <div id="boss-roulette" class="roulette"></div>
        <button onclick="startRoulette('boss')">スタート</button>
        <button onclick="stopRoulette('boss')">ストップ</button>
        <button onclick="goToMain()">最初に戻る</button>
    </div>

    <!-- 縛りルーレット画面 -->
    <div id="constraint-roulette-screen" style="display: none;">
        <h1>縛りルーレット</h1>
        <div id="constraint-roulette" class="roulette"></div>
        <button onclick="startRoulette('constraint')">スタート</button>
        <button onclick="stopRoulette('constraint')">ストップ</button>
        <button onclick="goToMain()">最初に戻る</button>
    </div>

    <!-- 縛りを選んでルーレット画面 -->
    <div id="select-constraint-screen" style="display: none;">
        <h1>縛りを選んでルーレット</h1>
        <select id="constraint-select">
            <option value="国縛り">国縛り</option>
            <option value="キャラルーレット">キャラルーレット</option>
            <option value="武器種縛り">武器種縛り</option>
            <option value="キャラ武器ルーレット">キャラ武器ルーレット</option>
            <option value="モノ元素縛り">モノ元素縛り</option>
            <option value="各n.1">各n.1</option>
            <option value="誕生月">誕生月</option>
            <option value="アルファベット縛り">アルファベット縛り</option>
        </select>
        <button onclick="startSelectedConstraint()">開始</button>
        <button onclick="goToMain()">最初に戻る</button>
    </div>

    <!-- 詳細ルーレット画面 -->
    <div id="detail-roulette-screen" style="display: none;">
        <h1 id="detail-roulette-title">詳細ルーレット</h1>
        <div id="detail-roulette" class="roulette"></div>
        <button onclick="startRoulette('detail')">スタート</button>
        <button onclick="stopRoulette('detail')">ストップ</button>
        <button onclick="goToMain()">最初に戻る</button>
    </div>

    <!-- 結果画面 -->
    <div id="result-screen" style="display: none;">
        <h1>結果</h1>
        <div id="result-content"></div>
        <button onclick="goToMain()">最初に戻る</button>
    </div>

    <!-- このルーレットについて画面 -->
    <div id="about-screen" style="display: none;">
        <button class="close-button" onclick="goToMain()">×</button>
        <h1>このルーレットについて</h1>
        <div class="about-content">
            <h2>目的・コンセプト</h2>
            <p>このルーレットは、普段遊んでいるサーバーでやっている縛りのルーレットをやりやすくしたいという目的のもと作成しています。できることはボスの抽選、縛りプレイの抽選、縛りの内容の抽選です。プレイ人数は原神のマルチできる人数1～4人、縛りの数は現実的に可能な4つまでとしています。</p>
            <h2>使用される情報について</h2>
            <p>ルーレットに使用されるキャラ、武器、縛り条件などの情報はすべて制作者が選定した公式情報のみを使用しています。データミスを見つけた場合は、@rakiku_genshin にDMでご報告ください。</p>
            <h2>FAQ</h2>
            <ul>
                <li><b>Q: 所持していない武器が出たら？</b><br>A: 「持っていない」ボタンで項目を削除し再抽選。</li>
                <li><b>Q: キャラルーレットで被ったら？</b><br>A: 重複しないよう設計。</li>
                <li><b>Q: 縛りの重複はどう処理？</b><br>A: 重複しないよう設計。</li>
                <li><b>Q: 条件の矛盾が出た場合は？</b><br>A: 後に出た縛りを再抽選。</li>
                <li><b>Q: ルーレットの結果を保存できますか？</b><br>A: 現在は保存機能なし。リザルト画面をスクリーンショットしてください。</li>
                <li><b>Q: モバイルでも使えますか？</b><br>A: はい、スマホ対応の縦長デザインです。</li>
                <li><b>Q: 縛り数が4つに制限されているのはなぜ？</b><br>A: 現実的に可能な縛り数として最大4つに設定。</li>
                <li><b>Q: ボスや縛りを自分で選べますか？</b><br>A: 「縛りを選ぶ」モード lắm縛りを手動選択可能。ボスはランダムのみ。</li>
                <li><b>Q: アーロイや旅人の扱いは？</b><br>A: 例外キャラとして特定の縛り（例：所持率100％、恒常☆5）で除外。</li>
                <li><b>Q: データミスを見つけたらどうすればいい？</b><br>A: @rakiku_genshin にDMでご報告ください。</li>
                <li><b>Q: ルーレットの結果が気に入らない場合は？</b><br>A: 「持っていない」ボタンでキャラ/武器を再抽選、または「最初に戻る」でリセット。</li>
            </ul>
            <h2>注意事項</h2>
            <p>非公式のファンメイドツールです。バグ報告は @rakiku_genshin まで。</p>
        </div>
    </div>

    <!-- モーダルダイアログ -->
    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2 id="modal-title">結果</h2>
            <p id="modal-result"></p>
            <button id="modal-next" onclick="modalNext()">次へ</button>
            <button id="modal-not-owned" onclick="modalNotOwned()" style="display: none;">持っていない</button>
            <button id="modal-close" onclick="closeModal()">閉じる</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
